/* Context menu styles for PDF viewer */
.pdf-context-menu {
    position: fixed;
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    min-width: 180px;
    overflow: hidden;
}

.context-menu-item {
    padding: 12px 16px;
    cursor: pointer;
    font-size: 14px;
    color: #374151;
    border-bottom: 1px solid #f3f4f6;
    transition: background-color 0.15s ease;
}

.context-menu-item:last-child {
    border-bottom: none;
}

.context-menu-item:hover {
    background-color: #f9fafb;
    color: #111827;
}

.context-menu-item.highlight-option:hover {
    background-color: #fef3c7;
    color: #92400e;
}

.context-menu-item.chat-option:hover {
    background-color: #dbeafe;
    color: #1e40af;
}

.context-menu-item.copy-option:hover {
    background-color: #f3e8ff;
    color: #7c3aed;
}

/* Enhanced highlight styles */
.rpv-highlight {
    border-radius: 2px;
    transition: opacity 0.2s ease;
}

.rpv-highlight:hover {
    opacity: 0.8;
}

/* Custom selection styles */
::selection {
    background-color: #3b82f6;
    color: white;
}

::-moz-selection {
    background-color: #3b82f6;
    color: white;
}

/* Floating action button animations */
.floating-action-btn {
    transform: scale(1);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.floating-action-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
}

.floating-action-btn:active {
    transform: scale(0.95);
}

/* Keyboard shortcuts help animation */
.keyboard-help {
    animation: slideInLeft 0.3s ease-out;
}

@keyframes slideInLeft {
    from {
        transform: translateX(-100%);
        opacity: 0;
    }

    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* Message notification styles */
.notification-message {
    animation: slideInDown 0.3s ease-out;
}

@keyframes slideInDown {
    from {
        transform: translate(-50%, -100%);
        opacity: 0;
    }

    to {
        transform: translate(-50%, 0);
        opacity: 1;
    }
}

/* Text selection indicator */
.text-selection-indicator {
    position: absolute;
    background: linear-gradient(45deg, #3b82f6, #1d4ed8);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    pointer-events: none;
    z-index: 100;
    animation: fadeInOut 2s ease-in-out;
}

@keyframes fadeInOut {

    0%,
    100% {
        opacity: 0;
    }

    50% {
        opacity: 1;
    }
}

/* Tool indicator enhancement */
.tool-indicator {
    animation: bounceIn 0.5s ease-out;
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    background: rgba(31, 41, 55, 0.9);
}

@keyframes bounceIn {
    0% {
        transform: scale(0.3);
        opacity: 0;
    }

    50% {
        transform: scale(1.05);
    }

    70% {
        transform: scale(0.9);
    }

    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* PDF page enhancement */
.rpv-core__page {
    transition: transform 0.2s ease;
}

.rpv-core__page:hover {
    transform: scale(1.01);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .pdf-context-menu {
        min-width: 150px;
    }

    .context-menu-item {
        padding: 10px 12px;
        font-size: 13px;
    }

    .keyboard-help {
        display: none;
    }
}

/* Custom highlight styles */
.pdf-highlight-custom {
    background-color: rgba(255, 255, 0, 0.5);
    border-radius: 2px;
    padding: 1px 2px;
    margin: -1px -2px;
    position: relative;
    z-index: 1;
    transition: background-color 0.2s ease;
}

.pdf-highlight-custom:hover {
    background-color: rgba(255, 255, 0, 0.7);
}

.pdf-highlight-alternative {
    transition: background-color 0.2s ease;
}

.pdf-highlight-alternative:hover {
    opacity: 0.8;
}

/* Enhanced context menu styles */
.pdf-context-menu .context-menu-item.cancel-option {
    color: #ef4444;
    border-top: 1px solid #f3f4f6;
    margin-top: 4px;
    padding-top: 12px;
}

.pdf-context-menu .context-menu-item.cancel-option:hover {
    background-color: #fef2f2;
    color: #dc2626;
}

/* Selection hint styles */
.selection-hint {
    position: fixed;
    background: rgba(59, 130, 246, 0.9);
    color: white;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 12px;
    z-index: 1001;
    pointer-events: none;
    animation: fadeInOut 3s ease-in-out;
}

@keyframes fadeInOut {

    0%,
    100% {
        opacity: 0;
        transform: translateY(-10px);
    }

    10%,
    90% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Highlighter tool cursor */
.highlighter-active {
    cursor: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMgMThoMThhLjc1Ljc1IDAgMCAwIC43NS0uNzVWMTBhLjc1Ljc1IDAgMCAwLS43NS0uNzVIM2EuNzUuNzUgMCAwIDAtLjc1Ljc1djcuMjVBLjc1Ljc1IDAgMCAwIDMgMThaIiBmaWxsPSIjRkZGRjAwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMSIvPgo8L3N2Zz4K') 12 12, crosshair !important;
}

.highlighter-active * {
    cursor: inherit !important;
}

/* Eraser tool cursor */
.eraser-active {
    cursor: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0ibTcgMjEtNC4zLTQuMzAyYS44NDMuODQzIDAgMCAxIDAtMS4xOTRsOC43NTYtOC43NTdhLjg0My44NDMgMCAwIDEgMS4xOTQgMGw0LjU5NyA0LjU5N2EuODQzLjg0MyAwIDAgMS0wIDEuMTk0bC04Ljc1NSA4Ljc1N2EuODQzLjg0MyAwIDAgMS0xLjE5NCAwIiBmaWxsPSIjRkY0NDQ0IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMSIvPgo8L3N2Zz4K') 12 12, crosshair !important;
}

.eraser-active * {
    cursor: inherit !important;
}

/* Enhanced erasable elements when eraser is active */
.pdf-highlight-erasable {
    cursor: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0ibTcgMjEtNC4zLTQuMzAyYS44NDMuODQzIDAgMCAxIDAtMS4xOTRsOC43NTYtOC43NTdhLjg0My44NDMgMCAwIDEgMS4xOTQgMGw0LjU5NyA0LjU5N2EuODQzLjg0MyAwIDAgMS0wIDEuMTk0bC04Ljc1NSA4Ljc1N2EuODQzLjg0MyAwIDAgMS0xLjE5NCAwIiBmaWxsPSIjRkY0NDQ0IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMSIvPgo8L3N2Zz4K') 12 12, crosshair !important;
    transition: background-color 0.2s ease, opacity 0.2s ease !important;
}

.pdf-highlight-erasable:hover {
    background-color: #ff4444 !important;
    opacity: 0.6 !important;
}

/* Enhance number markers appearance when eraser is active */
.eraser-active .pdf-number-marker:hover {
    background-color: #ff4444 !important;
    transform: scale(1.1);
    border: 2px solid #fff;
}

/* Text selection enhancement when highlighter is active */
.highlighter-active ::selection {
    background-color: #1b933780;
    color: #000;
}

.highlighter-active ::-moz-selection {
    background-color: #f3f30380;
    color: #000;
}

/* Immediate selection highlight in yellow when highlighter is active */
.highlighter-active ::selection,
.highlighter-active ::-moz-selection,
.highlighter-active ::-webkit-selection {
    background-color: rgba(255, 255, 0, 0.6) !important;
    color: #000 !important;
}

/* Ensure PDF.js text spans inherit active selection style */
.highlighter-active .rpv-core__text-layer-text::selection,
.highlighter-active .rpv-core__text-layer-text::-moz-selection,
.highlighter-active .rpv-core__text-layer-text::-webkit-selection {
    background-color: rgba(255, 255, 0, 0.6) !important;
    color: #000 !important;
}

/* Force yellow selection highlight on PDF.js text spans when highlighter is active */
.highlighter-active .rpv-core__text-layer-text::selection,
.highlighter-active .rpv-core__text-layer-text::-moz-selection {
    background-color: rgba(255, 255, 0, 0.6) !important;
    color: #000 !important;
}

/* Advanced multi-line highlighting styles */
.pdf-highlight-overlay {
    position: absolute;
    background-color: rgba(255, 255, 0, 0.4);
    border-radius: 2px;
    pointer-events: none;
    z-index: 10;
    transition: background-color 0.2s ease;
    box-shadow: 0 0 0 1px rgba(255, 255, 0, 0.2);
    /* Ensure overlays are visible over PDF content */
    mix-blend-mode: multiply;
}

/* Better contrast for overlays on light backgrounds */
.pdf-highlight-overlay[data-highlight-index] {
    background-color: rgba(255, 235, 59, 0.5);
    border: 1px solid rgba(255, 193, 7, 0.3);
}

/* Enhanced hover states for better user feedback */
.pdf-highlight-overlay:hover,
.pdf-highlight-char:hover,
.pdf-highlight-textnode:hover {
    background-color: rgba(255, 255, 0, 0.7) !important;
    transform: scale(1.02);
    z-index: 15;
}

/* Improved text node highlighting for better readability */
.pdf-highlight-textnode {
    background-color: rgba(255, 255, 0, 0.5);
    border-radius: 2px;
    transition: all 0.2s ease;
    padding: 1px 2px;
    margin: -1px -2px;
    display: inline-block;
    line-height: inherit;
    box-shadow: 0 0 2px rgba(255, 255, 0, 0.4);
}

/* Group selection and multi-highlight support */
.pdf-highlight-char[data-highlight-id]:hover,
.pdf-highlight-overlay[data-highlight-id]:hover {
    cursor: pointer;
}

/* Handle selection conflicts and overlapping highlights */
.pdf-highlight-char.pdf-highlight-char {
    /* Higher specificity for character highlights */
    background-color: rgba(255, 255, 0, 0.6) !important;
    z-index: 8;
}

/* Responsive highlight adjustments */
@media (max-width: 768px) {

    .pdf-highlight-overlay,
    .pdf-highlight-char,
    .pdf-highlight-textnode {
        /* Slightly more visible on mobile */
        background-color: rgba(255, 255, 0, 0.6) !important;
    }
}

/* Debug mode for troubleshooting highlights */
.pdf-debug-mode .pdf-highlight-overlay {
    border: 2px dashed red !important;
    background-color: rgba(255, 0, 0, 0.2) !important;
}

.pdf-debug-mode .pdf-highlight-char {
    outline: 1px solid blue !important;
    background-color: rgba(0, 0, 255, 0.2) !important;
}

.pdf-debug-mode .pdf-highlight-textnode {
    outline: 1px solid green !important;
    background-color: rgba(0, 255, 0, 0.2) !important;
}

.pdf-highlight-overlay:hover {
    background-color: rgba(255, 255, 0, 0.6) !important;
    transform: scale(1.02);
    z-index: 15;
}
